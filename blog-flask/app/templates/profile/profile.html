{% from "bootstrap4/utils.html" import render_static %}
{% extends "base.html" %}

{% block content %}
<div class="container">
  <div class="row text-black-50 profile mt-5">
    <div class="col-12 profile-title">
      <h4>Meu Perfil</h4>
    </div>
  
    <div class="col-12" id="profile_info">
      <div id="spinner" class="text-center">
        <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Carregando...</span>
        </div>
      </div>
      
      <div id="profile_data_content" class="d-none"></div>
    </div>
    
    <div class="col-12" id="profile_sm">
      <div id="spinner" class="text-center">
        <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Carregando...</span>
        </div>
      </div>
      
      <div id="profile_sm_content" class="d-none"></div>
    </div>
    
    <div class="col-12" id="profile_photo">
      <div id="spinner" class="text-center">
        <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Carregando...</span>
        </div>
      </div>
      
      <div id="profile_photo_content" class="d-none"></div>
    </div>
    
    <div class="col-12" id="profile_password">
      <div id="spinner" class="text-center">
        <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Carregando...</span>
        </div>
      </div>
      
      <div id="profile_password_content" class="d-none"></div>
    </div>
  </div>
</div>

<!-- Modal pra selecionar e Recortar imagem -->
<div class="modal fade" id="cropModal" tabindex="-1" aria-labelledby="cropModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="cropModalLabel">Recortar Imagem</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body p-1">
        <div class="img-container">
          <img id="imageToCrop" src="">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="cropButton">Recortar</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block custom_js %}
  {{ render_static("js", "https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js", local=False) }}
  {{ render_static('js', 'js/alertt.js', local=True) }}
  {{ render_static('js', 'js/button.js', local=True) }}
  {{ render_static('js', 'js/cropper.min.js', local=True) }}
  {{ render_static('js', 'js/profile.js', local=True) }}
  {{ render_static('js', 'js/auth.js', local=True) }}
{% endblock %}

{% block custom_css %}
  {{ render_static('css', 'css/cropper.min.css', local=True) }}
  {{ render_static('css', 'css/profile.css', local=True) }}
{% endblock %}